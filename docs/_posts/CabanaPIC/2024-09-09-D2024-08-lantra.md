---
layout: post
title:  OP-PIC&#58; An Unstructured Particle-in-Cell DSL for Developing Nuclear Fusion Simulations
tags: [Particle-in-cell, Unstructured Mesh, OpenMP, Kokkos, HIP, CUDA]
categories: CabanaPIC
---
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0" />
{% for post in site.posts %}
  {% if post.title == 'CabanaPIC' %}
<a href="{{ site.baseurl }}{{ post.url }}">Back</a>
{% endif %}
{% endfor %}
<div class="dataHeader">
<h1 style="margin-top:9px;margin-bottom:0px;">OP-PIC&#58; An Unstructured Particle-in-Cell DSL for Developing Nuclear Fusion Simulations</h1>
<h3 style="margin-top:9px;margin-bottom:0px;">Z. Lantra, G. R. Mudalige, S. A. Wright</h3>
<s><p style="display: inline-block;"><span class="material-symbols-outlined">
sell</span>Particle-in-cell, Unstructured Mesh, OpenMP, Kokkos, HIP, CUDA</p></s>
</div>
<hr style="margin-top:24px;margin-bottom:24px;">


{% assign nav = "false" %}
{% for static_file in site.static_files %}
{% if static_file.path == "/static/assets/CabanaPIC/2024-08-lantra/navChart.png" %}
{% assign nav = 'true' %}
{% endif %} 
{% endfor %}

<div class="container">
<div class="top"><img src="{{ site.baseurl }}{% link static/assets/CabanaPIC/2024-08-lantra/barChart.png %}" alt="BarChart"/>
</div>
<div class="bottom">
{% if nav == "true" %}
<div class="colCascade"><img src="{{ site.baseurl }}{% link static/assets/CabanaPIC/2024-08-lantra/cascade.png %}" alt="Cascade" style="margin-right:2%;"/></div>
<div class="colNav"><img src="{{ site.baseurl }}{% link static/assets/CabanaPIC/2024-08-lantra/navChart.png %}" alt="Navigation Chart "/></div>
</div>
{% else %}
<div class="singleCol"><img src="{{ site.baseurl }}{% link static/assets/CabanaPIC/2024-08-lantra/cascade.png %}" alt="Cascade"/></div>
</div>
{% endif %}
</div>
<br>
<div class="plotsDownload"><a href="{{ site.baseurl }}{% link static/plots/CabanaPIC/2024-08-lantra/plots.zip %}" download>Download Plots (PNG and LaTeX)</a></div>
<hr style="margin-top:16px;margin-bottom:16px;">


In this work we introduce OP-PIC, a new DSL consisting of a high-level API for declaring both electrostatic and electromagnetic PIC on unstructured meshes. 
OP-PIC follows the loop-level abstraction of OP2 for unstructured meshes, but allows a developer to declare particles and a mesh. 
It then allows to elucidate the main steps of a PIC application consisting of the key communication/computation pattern of particle moves and their charges affecting the mesh as an iterative explicit solver;

In this study we benchmark the performance of CabanaPIC, developed with OP-PIC on CPU and GPU clusters. While CabanaPIC is an structured grid application, in this work we replace the structured grid with an equivalent unstructured grid.

We present results for a range of hardware from Intel, AMD, and NVIDIA. For each compiler we use `-O3` and OpenMP where necessary, and each systems default MPI installation.

<br>

DATE: 2024-08 <br>
DOI: [10.1145/3673038.3673130](https://doi.org/10.1145/3673038.3673130)
<h3>Sources:</h3>

<style>
.container{
    text-align: center;
  width: 100%;
  max-height: 736px;
  height: 100vw;
  margin: 0;
  max-width: 736px;
}
.top{
    
    height: 50%;
    width: 100%;
}
.bottom{
    height: 50%;
    width: 100%;
}
img{
    height: 100%;
}
.colCascade{
            float: left;
            width: 60%;
            height: 100%;
            vertical-align: middle;
}
.colNav{
            float: left;
            width: 40%;
            height: 100%;
            vertical-align: middle;
}
.singleCol{
            position: relative;
            width: 50%;
            height: 100%;
            left: 25%;
}
.plotsDownload{
  text-align: center;
}
</style>


[OP-PIC Repository](https://github.com/OP-DSL/OP-PIC)<br>[OP-PIC Documentation](https://zamanlantra.github.io/git_docs_test/index.html)<br>